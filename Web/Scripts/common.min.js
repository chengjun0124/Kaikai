function timeSpan(n){if(this.hour,this.minute,this.second,/^\d{2}:\d{2}:\d{2}$/.test(n))this.hour=parseInt(n.split(":")[0]),this.minute=parseInt(n.split(":")[1]),this.second=parseInt(n.split(":")[2]);else{var t=parseInt(n);this.hour=parseInt(t/60);this.minute=t%60;this.second=0}this.add=function(n){var i=0,t=0,r=0;return i=this.second+n.second,i>59&&(t++,i=i-60),t=this.minute+n.minute+t,t>59&&(r++,t=t-60),r=this.hour+n.hour+r,new timeSpan(r+":"+t+":"+i)};this.lessThan=function(n){return this.hour<n.hour?!0:this.minute<n.minute?!0:this.second<n.second?!0:!1};this.equal=function(n){return this.hour==n.hour&&this.minute==n.minute&&this.second==n.second};this.toString=function(){var n=this.hour.toStringWithPrefix(2),t=this.minute.toStringWithPrefix(2),i=this.second.toStringWithPrefix(2);return n+":"+t+":"+i}}function clone(n){var t,i,u,r;if(typeof n=="object")if(n===null)t=null;else if(n instanceof Array)for(t=[],i=0,u=n.length;i<u;i++)t.push(clone(n[i]));else{t={};for(r in n)t[r]=clone(n[r])}else t=n;return t}String.prototype.toDateString=function(){return this.split("T")[0]};String.prototype.toTimeString=function(){return this.split("T")[1]};String.prototype.toDateTimeString=function(){return this.replace("T"," ")};Date.prototype.format=function(n){var t=n;return t=t.replace("YYYY",this.getFullYear()),t.replace("MM",this.getMonth()+1)};Number.prototype.toStringWithPrefix=function(n){return(Array(n).join("0")+this).slice(-n)};String.prototype.format=function(n){var i,t;return i=/^\d{2}:\d{2}:\d{2}$/.test(this)?new Date("0000-01-01T"+this):new Date(this),t=n,t=t.replace("YYYY",i.getFullYear()),t=t.replace("MM",(i.getMonth()+1).toStringWithPrefix(2)),t=t.replace("dd",i.getDate().toStringWithPrefix(2)),t=t.replace("hh",i.getHours().toStringWithPrefix(2)),t.replace("mm",i.getMinutes().toStringWithPrefix(2))};String.prototype.toMinutes=function(){var n=this.split(":");return n[0]*60+parseInt(n[1])};