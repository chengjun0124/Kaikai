app.controller("login",["$scope","authAPIService","storageService","routeService","dialogService",function(n,t,i,r,u){n.login=function(){if(!n.userName||n.userName.length==0){u.showMention(1,"请输入用户名");return}if(!n.password||n.password.length==0){u.showMention(1,"请输入密码");return}t.auth(n.userName,n.password).then(function(n){i.setSession("jwt",n.data.jwt);i.setSession("userTypeId",n.data.userTypeId);r.goParams("home")},function(n){n.status==500?r.goParams("error"):n.status==404?r.goParams("error",{msg:encodeURIComponent("您请求的数据不存在，请返回首页重新浏览")}):n.status==400?u.showMention(1,n.data[0].message):n.status==401?r.goParams("login"):r.goParams("error")})};n.focusPwd=function(){document.getElementById("txt_password").focus()};var f=$(window).height();$("body").css("height",f)}]);